{"ast":null,"code":"import React, { Component, useEffect } from 'react';\nimport t from 'prop-types';\nvar scopes = {\n  ugcImageUpload: 'ugc-image-upload',\n  userFollowRead: 'user-follow-read',\n  userFollowModify: 'user-follow-modify',\n  userReadRecentlyPlayed: 'user-read-recently-played',\n  userTopRead: 'user-top-read',\n  userReadPlaybackPosition: 'user-read-playback-position',\n  userLibraryRead: 'user-library-read',\n  userLibraryModify: 'user-library-modify',\n  userReadPlaybackState: 'user-read-playback-state',\n  userReadCurrentlyPlaying: 'user-read-currently-playing',\n  userModifyPlaybackState: 'user-modify-playback-state',\n  playlistReadCollaborative: 'playlist-read-collaborative',\n  playlistModifyPrivate: 'playlist-modify-private',\n  playlistModifyPublic: 'playlist-modify-public',\n  playlistReadPrivate: 'playlist-read-private',\n  streaming: 'streaming',\n  appRemoteControl: 'app-remote-control',\n  userReadEmail: 'user-read-email',\n  userReadPrivate: 'user-read-private'\n};\n\nvar allScopes = function () {\n  return Object.keys(scopes).reduce(function (sum, scope) {\n    return sum.concat(scopes[scope], '%20');\n  }, '').slice(0, -3);\n}();\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar getRedirectUrl = function getRedirectUrl(clientID, scopes, redirectUri, showDialog) {\n  return 'https://accounts.spotify.com/authorize?response_type=token' + (\"&client_id=\" + clientID) + (\"&scope=\" + scopes.join('%20')) + (\"&redirect_uri=\" + redirectUri) + '&show_dialog=' + Boolean(showDialog);\n};\n\nvar styles = {\n  \"rsaSpotifyBtn\": \"_3xrlJ\",\n  \"rsaSpotifyLogo\": \"_1JCP_\"\n};\n\nvar SpotifyLogo = function SpotifyLogo(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 496 512\",\n    className: props.className || styles.rsaSpotifyLogo\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z\"\n  }));\n};\n\nSpotifyLogo.propTypes = {\n  className: t.string\n};\n\nvar getHash = function getHash() {\n  return window ? window.parent.location.hash.substring(1).split('&').reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split('=');\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n\n    return initial;\n  }, {}) : '';\n};\n\nvar SpotifyAuth = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SpotifyAuth, _Component);\n\n  function SpotifyAuth(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.handleClick = function (event) {\n      event.preventDefault();\n      window.location = getRedirectUrl(_this.props.clientID, _this.props.scopes, _this.props.redirectUri, _this.props.showDialog);\n    };\n\n    _this.state = {\n      isAuthenticatedWithSpotify: false\n    };\n    return _this;\n  }\n\n  var _proto = SpotifyAuth.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var accessToken = getHash().access_token;\n\n    if (accessToken) {\n      if (!this.props.noCookie) {\n        document.cookie = \"spotifyAuthToken=\" + accessToken + \"; max-age=\" + 60 * 60 + \";\";\n      }\n\n      if (this.props.localStorage) {\n        window.localStorage.setItem('spotifyAuthToken', accessToken);\n      }\n\n      this.props.onAccessToken(accessToken);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: this.props.btnClassName || styles.rsaSpotifyBtn,\n      onClick: function onClick(event) {\n        return _this2.handleClick(event);\n      }\n    }, !this.props.noLogo && /*#__PURE__*/React.createElement(SpotifyLogo, {\n      className: this.props.logoClassName\n    }), /*#__PURE__*/React.createElement(\"span\", null, this.props.title));\n  };\n\n  return SpotifyAuth;\n}(Component);\n\nSpotifyAuth.propTypes = {\n  redirectUri: t.string.isRequired,\n  clientID: t.string.isRequired,\n  scopes: t.arrayOf(t.string),\n  onAccessToken: t.func,\n  logoClassName: t.string,\n  title: t.string,\n  noLogo: t.bool,\n  noCookie: t.bool,\n  showDialog: t.bool,\n  localStorage: t.bool\n};\nSpotifyAuth.defaultProps = {\n  redirectUri: 'http://localhost:3000',\n  scopes: [scopes.userReadPrivate, scopes.userReadEmail],\n  onAccessToken: function onAccessToken(token) {},\n  title: 'Continue with Spotify',\n  localStorage: false,\n  noLogo: false,\n  noCookie: false,\n  showDialog: false\n};\n\nvar SpotifyAuthListener = function SpotifyAuthListener(props) {\n  useEffect(function () {\n    var accessToken = getHash().access_token;\n\n    if (accessToken) {\n      if (!props.noCookie) {\n        document.cookie = \"spotifyAuthToken=\" + accessToken + \"; max-age=\" + 60 * 60 + \";\";\n      }\n\n      if (props.localStorage) {\n        window.localStorage.setItem('spotifyAuthToken', accessToken);\n      }\n\n      props.onAccessToken(accessToken);\n    }\n  }, []);\n  return null;\n};\n\nSpotifyAuthListener.propTypes = {\n  noCookie: t.bool,\n  localStorage: t.bool,\n  onAccessToken: t.func\n};\nSpotifyAuthListener.defaultProps = {\n  noCookie: false,\n  localStorage: false,\n  onAccessToken: function onAccessToken(token) {}\n};\nscopes.all = allScopes;\nexport { scopes as Scopes, SpotifyAuth, SpotifyAuthListener };","map":{"version":3,"sources":["../src/Scopes.js","../src/generateUrl.js","../src/SpotifyLogo.jsx","../src/getHash.js","../src/SpotifyAuth.jsx","../src/SpotifyAuthListener.jsx","../src/index.js"],"names":["scopes","ugcImageUpload","userFollowRead","userFollowModify","userReadRecentlyPlayed","userTopRead","userReadPlaybackPosition","userLibraryRead","userLibraryModify","userReadPlaybackState","userReadCurrentlyPlaying","userModifyPlaybackState","playlistReadCollaborative","playlistModifyPrivate","playlistModifyPublic","playlistReadPrivate","streaming","appRemoteControl","userReadEmail","userReadPrivate","allScopes","sum","getRedirectUrl","Boolean","SpotifyLogo","props","styles","rsaSpotifyLogo","className","t","string","getHash","window","parts","item","initial","decodeURIComponent","SpotifyAuth","Component","isAuthenticatedWithSpotify","componentDidMount","accessToken","document","event","getRedirectUri","render","logoClassName","redirectUri","clientID","onAccessToken","title","noLogo","noCookie","showDialog","localStorage","bool","SpotifyAuthListener","useEffect","func","Scopes"],"mappings":"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","sourcesContent":["/**\n * List of all Spotify Scopes\n */\nconst scopes = {\n  // images\n  ugcImageUpload: 'ugc-image-upload',\n\n  // follow\n  userFollowRead: 'user-follow-read',\n  userFollowModify: 'user-follow-modify',\n\n  // listening history\n  userReadRecentlyPlayed: 'user-read-recently-played',\n  userTopRead: 'user-top-read',\n  userReadPlaybackPosition: 'user-read-playback-position',\n\n  // library\n  userLibraryRead: 'user-library-read',\n  userLibraryModify: 'user-library-modify',\n\n  // spotify connect\n  userReadPlaybackState: 'user-read-playback-state',\n  userReadCurrentlyPlaying: 'user-read-currently-playing',\n  userModifyPlaybackState: 'user-modify-playback-state',\n\n  // playlists\n  playlistReadCollaborative: 'playlist-read-collaborative',\n  playlistModifyPrivate: 'playlist-modify-private',\n  playlistModifyPublic: 'playlist-modify-public',\n  playlistReadPrivate: 'playlist-read-private',\n\n  // playback\n  streaming: 'streaming',\n  appRemoteControl: 'app-remote-control',\n\n  // users\n  userReadEmail: 'user-read-email',\n  userReadPrivate: 'user-read-private'\n}\n\nexport const allScopes = (() => {\n  return Object.keys(scopes)\n    .reduce((sum, scope) => {\n      return sum.concat(scopes[scope], '%20')\n    }, '')\n    .slice(0, -3)\n})()\n\nexport default scopes\n","const getRedirectUrl = (clientID, scopes, redirectUri, showDialog) => {\r\n  return (\r\n    'https://accounts.spotify.com/authorize?response_type=token' +\r\n    `&client_id=${clientID}` +\r\n    `&scope=${scopes.join('%20')}` +\r\n    `&redirect_uri=${redirectUri}` +\r\n    '&show_dialog=' +\r\n    Boolean(showDialog)\r\n  )\r\n}\r\n\r\nexport default getRedirectUrl\r\n","import React from 'react'\nimport styles from './SpotifyAuth.css'\nimport t from 'prop-types'\n\nconst SpotifyLogo = (props) => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 496 512'\n      className={props.className || styles.rsaSpotifyLogo}\n    >\n      <path d='M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z' />\n    </svg>\n  )\n}\n\nSpotifyLogo.propTypes = {\n  className: t.string\n}\n\nexport default SpotifyLogo\n","export const getHash = () => {\r\n  return window\r\n    ? window.parent.location.hash\r\n        .substring(1)\r\n        .split('&')\r\n        .reduce((initial, item) => {\r\n          if (item) {\r\n            const parts = item.split('=')\r\n            initial[parts[0]] = decodeURIComponent(parts[1])\r\n          }\r\n          return initial\r\n        }, {})\r\n    : ''\r\n}\r\n","/**\r\n * @class SpotifyAuth\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport scopes from './Scopes'\r\nimport getRedirectUri from './generateUrl'\r\n\r\nimport styles from './SpotifyAuth.css'\r\nimport t from 'prop-types'\r\nimport SpotifyLogo from './SpotifyLogo'\r\nimport { getHash } from './getHash'\r\n\r\nclass SpotifyAuth extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isAuthenticatedWithSpotify: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const accessToken = getHash().access_token\r\n\r\n    if (accessToken) {\r\n      if (!this.props.noCookie) {\r\n        document.cookie = `spotifyAuthToken=${accessToken}; max-age=${60 * 60};`\r\n      }\r\n      if (this.props.localStorage) {\r\n        window.localStorage.setItem('spotifyAuthToken', accessToken)\r\n      }\r\n      this.props.onAccessToken(accessToken)\r\n    }\r\n  }\r\n\r\n  handleClick = (event) => {\r\n    event.preventDefault()\r\n\r\n    window.location = getRedirectUri(\r\n      this.props.clientID,\r\n      this.props.scopes,\r\n      this.props.redirectUri,\r\n      this.props.showDialog\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        className={this.props.btnClassName || styles.rsaSpotifyBtn}\r\n        onClick={(event) => this.handleClick(event)}\r\n      >\r\n        {!this.props.noLogo && (\r\n          <SpotifyLogo className={this.props.logoClassName} />\r\n        )}\r\n        <span>{this.props.title}</span>\r\n      </button>\r\n    )\r\n  }\r\n}\r\n\r\nSpotifyAuth.propTypes = {\r\n  redirectUri: t.string.isRequired,\r\n  clientID: t.string.isRequired,\r\n  scopes: t.arrayOf(t.string),\r\n  onAccessToken: t.func,\r\n  logoClassName: t.string,\r\n  title: t.string,\r\n  noLogo: t.bool,\r\n  noCookie: t.bool,\r\n  showDialog: t.bool,\r\n  localStorage: t.bool\r\n}\r\n\r\nSpotifyAuth.defaultProps = {\r\n  redirectUri: 'http://localhost:3000',\r\n  scopes: [scopes.userReadPrivate, scopes.userReadEmail],\r\n  onAccessToken: (token) => {},\r\n  title: 'Continue with Spotify',\r\n  localStorage: false,\r\n  noLogo: false,\r\n  noCookie: false,\r\n  showDialog: false,\r\n}\r\n\r\nexport default SpotifyAuth\r\n","import { useEffect } from 'react'\n\nimport { getHash } from './getHash'\nimport t from 'prop-types'\n\nconst SpotifyAuthListener = (props) => {\n  useEffect(() => {\n    const accessToken = getHash().access_token\n\n    if (accessToken) {\n      if (!props.noCookie) {\n        document.cookie = `spotifyAuthToken=${accessToken}; max-age=${60 * 60};`\n      }\n      if (props.localStorage) {\n        window.localStorage.setItem('spotifyAuthToken', accessToken)\n      }\n      props.onAccessToken(accessToken)\n    }\n  }, [])\n\n  return null\n}\n\nSpotifyAuthListener.propTypes = {\n  noCookie: t.bool,\n  localStorage: t.bool,\n  onAccessToken: t.func\n}\n\nSpotifyAuthListener.defaultProps = {\n  noCookie: false,\n  localStorage: false,\n  onAccessToken: (token) => {}\n}\n\nexport default SpotifyAuthListener\n","import Scopes, { allScopes } from './Scopes'\nimport SpotifyAuth from './SpotifyAuth'\nimport SpotifyAuthListener from './SpotifyAuthListener'\n\nScopes.all = allScopes\n\nexport { Scopes, SpotifyAuth, SpotifyAuthListener }\n"]},"metadata":{},"sourceType":"module"}